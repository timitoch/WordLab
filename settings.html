<!-- 5. VIEW: SETTINGS -->
<div id="view-settings" class="view-section hidden">
    <div class="section-title">
        <h2>Настройки</h2>
    </div>

    <div class="settings-layout">
        <!-- Sidebar -->
        <div class="settings-sidebar">
            <button class="settings-tab active" data-target="settings-profile-section">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
                Профиль
            </button>
            <button class="settings-tab" data-target="settings-words-section">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                </svg>
                Слова и прогресс
            </button>
            <button class="settings-tab" data-target="settings-personalization-section">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                </svg>
                Персонализация
            </button>
        </div>

        <!-- Content Area -->
        <div class="settings-content-area">
            <!-- Theme Section -->
            <div id="settings-personalization-section" class="settings-tab-content hidden">
                <div class="settings-group">
                    <h3>Внешний вид</h3>
                    <p class="settings-desc">Выберите тему оформления приложения.</p>

                    <div class="theme-selector" style="display: flex; gap: 1rem; margin-bottom: 2rem;">
                        <button class="theme-btn active" data-set-theme="dark">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                            </svg>
                            Темная
                        </button>
                        <button class="theme-btn" data-set-theme="light">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <circle cx="12" cy="12" r="5"></circle>
                                <line x1="12" y1="1" x2="12" y2="3"></line>
                                <line x1="12" y1="21" x2="12" y2="23"></line>
                                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                                <line x1="1" y1="12" x2="3" y2="12"></line>
                                <line x1="21" y1="12" x2="23" y2="12"></line>
                                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                            </svg>
                            Светлая
                        </button>
                    </div>

                    <!-- Color Scheme Selector -->
                    <div class="settings-group">
                        <h3>Цветовая схема</h3>
                        <p class="settings-desc">Выберите акцентные цвета для выбранной темы.</p>

                        <div class="color-scheme-selector"
                            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 1rem; margin-top: 1rem;">
                            <button class="color-scheme-btn active" data-color-scheme="default">
                                <div class="scheme-preview" style="display: flex; gap: 0.5rem; margin-bottom: 0.5rem;">
                                    <div
                                        style="width: 40px; height: 40px; border-radius: 8px; background: linear-gradient(135deg, #3b82f6, #10b981);">
                                    </div>
                                </div>
                                <span style="font-size: 0.85rem; font-weight: 500;">Синий-Зеленый</span>
                            </button>

                            <button class="color-scheme-btn" data-color-scheme="pink-yellow">
                                <div class="scheme-preview" style="display: flex; gap: 0.5rem; margin-bottom: 0.5rem;">
                                    <div
                                        style="width: 40px; height: 40px; border-radius: 8px; background: linear-gradient(135deg, #ec4899, #f59e0b);">
                                    </div>
                                </div>
                                <span style="font-size: 0.85rem; font-weight: 500;">Розовый-Желтый</span>
                            </button>

                            <button class="color-scheme-btn" data-color-scheme="purple-orange">
                                <div class="scheme-preview" style="display: flex; gap: 0.5rem; margin-bottom: 0.5rem;">
                                    <div
                                        style="width: 40px; height: 40px; border-radius: 8px; background: linear-gradient(135deg, #8b5cf6, #f97316);">
                                    </div>
                                </div>
                                <span style="font-size: 0.85rem; font-weight: 500;">Фиолетовый-Оранжевый</span>
                            </button>

                            <button class="color-scheme-btn" data-color-scheme="red-cyan">
                                <div class="scheme-preview" style="display: flex; gap: 0.5rem; margin-bottom: 0.5rem;">
                                    <div
                                        style="width: 40px; height: 40px; border-radius: 8px; background: linear-gradient(135deg, #ef4444, #06b6d4);">
                                    </div>
                                </div>
                                <span style="font-size: 0.85rem; font-weight: 500;">Красный-Голубой</span>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="settings-group">
                    <h3>Аватар</h3>
                    <p class="settings-desc">Загрузите изображение профиля (PNG, JPG, макс. 2МБ).</p>
                    <div class="avatar-upload-control" style="display: flex; gap: 1rem; align-items: center;">
                        <div class="avatar-preview"
                            style="width: 64px; height: 64px; border-radius: 50%; overflow: hidden; background: var(--surface); border: 1px solid var(--border);">
                            <img id="settings-avatar-preview" src=""
                                style="width: 100%; height: 100%; object-fit: cover; display: none;">
                            <div id="settings-avatar-placeholder"
                                style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: var(--text-muted);">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="12" cy="7" r="4"></circle>
                                </svg>
                            </div>
                        </div>
                        <input type="file" id="avatar-input" accept="image/*" style="display: none;">
                        <button class="btn-secondary small" onclick="document.getElementById('avatar-input').click()">
                            Загрузить фото
                        </button>
                    </div>
                </div>
            </div>

            <!-- Profile Section -->
            <div id="settings-profile-section" class="settings-tab-content">
                <div class="settings-group">
                    <h3>Управление профилем</h3>
                    <div class="form-group">
                        <label>Никнейм</label>
                        <div class="form-row">
                            <input type="text" id="settings-nickname" placeholder="Введите новый никнейм">
                            <button class="btn-secondary small" id="btn-update-nickname" disabled>Сохранить</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Электронная почта</label>
                        <div class="form-row">
                            <input type="email" id="settings-email" placeholder="Введите новую почту">
                            <button class="btn-secondary small" id="btn-update-email" disabled>Сохранить</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Пароль</label>
                        <div class="form-row">
                            <input type="password" id="settings-password" placeholder="Введите новый пароль">
                            <button class="btn-secondary small" id="btn-update-password" disabled>Сохранить</button>
                        </div>
                    </div>
                    <div class="danger-zone-mini">
                        <button class="btn-secondary small" id="logout-btn"
                            style="width:100%; margin-bottom: 0.5rem; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                                <polyline points="16 17 21 12 16 7"></polyline>
                                <line x1="21" y1="12" x2="9" y2="12"></line>
                            </svg>
                            Выйти из учетной записи
                        </button>
                        <button class="btn-danger-outline small" id="btn-delete-account">Удалить
                            профиль</button>
                    </div>
                </div>
            </div>

            <!-- Vocabulary Section -->
            <div id="settings-words-section" class="settings-tab-content hidden">
                <div class="settings-group">
                    <h3>Слова и прогресс</h3>
                    <p class="settings-desc">Управление вашей базой слов и достигнутыми результатами.
                    </p>
                    <div class="action-list">
                        <button class="btn-danger-outline" id="btn-reset-session-progress">Сбросить весь
                            прогресс</button>
                        <button class="btn-danger-outline" id="btn-clear-dictionary">Очистить словарь
                            (удалить все слова)</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>